<div class="mt-20"></div>
<section id="recent">
  <div class="container mx-auto flex w-3/4 items-center justify-center">
    <div class="flex w-full flex-col gap-5 py-14">
      <div
        class="flex flex-col-reverse md:flex-row md:items-center md:justify-between"
      >
        <h1 class="mr-auto text-2xl font-bold text-textp lg:text-4xl">
          Upcoming Trips
        </h1>
        <button
          routerLink="/create/plan"
          class="btn btn-primary btn-xs ml-auto rounded-full text-textp md:btn-md mb-3 md:mb-0"
        >
          <i class="fa-solid fa-plus"></i>Plan new trip
        </button>
      </div>
      <div class="flex flex-col">
        <a class="m-3 self-end font-semibold text-texts" routerLink="/profile"
          >See all</a
        >

        <div class="relative">
          <div *ngIf="loading">
            <div
              class="absolute inset-0 flex items-center justify-center rounded-lg bg-black bg-opacity-90 text-primary"
            >
              <span class="loading loading-infinity w-24"></span>
            </div>
          </div>
          <div
            class="flex w-full items-center justify-center"
            *ngIf="!upcomingTrips[0]"
          >
            <img
              class="w-1/2 md:w-1/3"
              src="../../../../assets//images/noUpcomingTrips.jpeg"
            />
          </div>
          <swiper-container class="mySwiper">
            <swiper-slide *ngFor="let upcomingTrip of upcomingTrips"
              ><div class="relative max-w-sm">
                <button
                  class="btn btn-circle btn-secondary btn-xs absolute right-2 top-2"
                >
                  <i class="fa-solid fa-ellipsis"></i>
                </button>
                <button class="btn btn-neutral btn-xs absolute left-2 top-2">
                  {{ upcomingTrip.startDate | daysTo }}
                </button>
                <a (click)="navigateTo(upcomingTrip._id)">
                  <img
                    class="h-40 w-full rounded-lg object-cover"
                    src="{{ upcomingTrip.coverPhoto }}"
                    alt=""
                  />
                </a>
                <div class="pt-3">
                  <a (click)="navigateTo(upcomingTrip._id)">
                    <h5
                      class="mb-2 text-lg font-semibold tracking-tight text-textp"
                    >
                      {{ upcomingTrip.name }}
                    </h5>
                  </a>
                  <p class="text-sm font-normal text-texts">
                    <span
                      >&bull;
                      {{
                        [upcomingTrip.startDate, upcomingTrip.endDate]
                          | dateRange
                      }}</span
                    >
                    <span class="ml-5"
                      >&bull;{{
                        upcomingTrip.totalPlacesToVisit +
                          upcomingTrip.totalItineraryPlaces
                      }}
                      places</span
                    >
                  </p>
                </div>
              </div></swiper-slide
            >
          </swiper-container>
        </div>
      </div>
    </div>
  </div>
</section>
